<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/communityNoCaraselLayout}">
<head>
    <title>커뮤니티</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link th:rel="stylesheet" th:href="@{/assets/dropzonejs/dropzone.css}"/>
    <link th:rel="stylesheet" th:href="@{/assets/toastr/toastr.min.css}"/>
    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"/>
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.ckeditor.com/ckeditor5/35.1.0/classic/ckeditor.js"></script>

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">

    <script>function deleteCommu() {
        alert("정말 게시글을 삭제하시겠습니까?");
    }

    async function load() {
            let say = await import('https://unpkg.com/dropzone@5/dist/min/dropzone.min.js');
            say.dragend();
            say.click();
            say.dragenter();
            say.dragover();
            say.dragstart();
            say.drop();
            say.focus();
        }

        function deleteContents(){

        }
    </script>
    <script>
        if (top != window) {
            top.location = window.location;
        }

    </script>

</head>
<body class="vsc-initialized">
<div layout:fragment="content"  style="min-height: 800px;">
    <div id="wrapper">

        <div id="container">

            <!--  community field  -->

<!--            (id ='${communityDetail.id}')-->
            <div th:if="${communityDetail.member.memberEmail == eamil}" th:object="${communityDetail}" align="right"  style="margin :10px; margin-top: 30px; margin-right: 30px;">
                <a href="community/update/{id}" class="btn btn-outline-dark" >수정</a>
                <form role="form" method="post" enctype="multipart/form-data" id="formId" style="margin-top: 10px;" action="/community/delete/{id} ">
                    <input type="submit" class="btn btn-dark" th:value="삭제" onclick="deleteCommu()">
                </form>
            </div>

            <label style="margin-top: 50px"><a href="/community/main">
            <dd th:utext="${communityDetail.category}"></dd>
        </a></label>

            <b><h1 th:utext="${communityDetail.title}"></h1></b>


            <div style="display:block;">
                <h5 style="opacity: 0.5">
                    <dd th:utext="${communityDetail.member.memberNickname}"></dd>
                </h5>

                <hr style="opacity: 0.5"/>
            </div>
            <div style="display:block;">
                <dd th:utext="${communityDetail.content}"></dd>
                <!--                     -->
                </input>
            </div>
            <div style="display:block;">
                <div th:if="${communityDetail.category == 'notice'}" align="center" style="margin-top: 10px">
                    <button value="목록으로 돌아가기" class="btn btn-secondary" id="nextButton"
                            onclick="location.href='/community/community/notice'">목록으로 돌아가기
                    </button>
                </div>
                <div th:if="${communityDetail.category == 'qna'}" align="center" style="margin-top: 10px">
                    <button value="목록으로 돌아가기" class="btn btn-secondary" id="nextqnaButton"
                            onclick="location.href='/community/community/qna'">목록으로 돌아가기
                    </button>
                </div>
                <div th:if="${communityDetail.category == 'freeCommu'}" align="center" style="margin-top: 10px">
                    <button value="목록으로 돌아가기" class="btn btn-secondary" id="nextfreeCommuButton"
                            onclick="location.href='/community/community/freeCommu'">목록으로 돌아가기
                    </button>
                </div>
            </div>


        </div>
    </div>


    <script>
        let editor = [];
        ClassicEditor
            .create(document.querySelector('#editor1'))
            .then(newEditor => {
                editor[1] = newEditor;
            })
            .catch(error => {
                console.error(error);
            });
    </script>
</div>
</div><!-- latyout1 -->

</body>

</html>